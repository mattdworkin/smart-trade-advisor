<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Morning Market Research Agent</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body data-refresh-seconds="{{ refresh_interval_seconds }}">
  <main class="shell">
    <header class="hero">
      <div>
        <p class="eyebrow">Smart Trade Advisor</p>
        <h1>AI Morning Desk</h1>
        <p class="subtitle">Predicted winners, losers, long-term ideas, and daily New York Times market context.</p>
      </div>
      <div class="hero-controls">
        <label for="roleSelect">Viewer Role</label>
        <select id="roleSelect">
          <option value="retail">Retail</option>
          <option value="pro_trader">Pro Trader</option>
          <option value="advisor">Advisor</option>
          <option value="executive">Executive</option>
        </select>
        <button id="refreshBtn" type="button">Refresh Now</button>
      </div>
    </header>

    <section class="kpi-row">
      <article class="kpi-card">
        <p>Last refresh</p>
        <h3 id="lastRefresh">-</h3>
      </article>
      <article class="kpi-card">
        <p>Top winner</p>
        <h3 id="topWinner">-</h3>
      </article>
      <article class="kpi-card">
        <p>Top loser</p>
        <h3 id="topLoser">-</h3>
      </article>
      <article class="kpi-card">
        <p>Best long term</p>
        <h3 id="topLongTerm">-</h3>
      </article>
    </section>

    <section class="grid">
      <article class="panel">
        <h2>Biggest Winners Predicted</h2>
        <div id="winnersList" class="card-list"></div>
      </article>
      <article class="panel">
        <h2>Biggest Losers Predicted</h2>
        <div id="losersList" class="card-list"></div>
      </article>
      <article class="panel">
        <h2>Best Long-Term Setups</h2>
        <div id="longTermList" class="card-list"></div>
      </article>
      <article class="panel">
        <h2>High-Attention Watchlist</h2>
        <div id="watchlistList" class="card-list"></div>
      </article>
    </section>

    <section class="grid two-col">
      <article class="panel">
        <h2>Daily Market News Brief</h2>
        <div id="nytList" class="headline-list"></div>
      </article>
      <article class="panel">
        <h2>Ask The Agent</h2>
        <form id="queryForm">
          <textarea id="questionInput" rows="4" placeholder="Example: Why are semis predicted to outperform today and what should I watch at the open?"></textarea>
          <button type="submit">Run Agent Query</button>
        </form>
        <div id="agentAnswer" class="agent-answer">Agent response will appear here.</div>
        <div>
          <h3>Automated Implementation Actions</h3>
          <ul id="actionList"></ul>
        </div>
      </article>
    </section>
  </main>
  <script src="/static/app.js"></script>
</body>
</html>
